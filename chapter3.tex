%===================================== CHAP 2 =================================
\cleardoublepage

\chapter{Theory}

This chapter presents the theory on CBR methodology and CBR Recommender Systems (CBR-RS), which were used to create Utsida, a prototype used as a tool to answer the research questions. It also introduces myCBR; the software tool used to configure the CBR model and implement the CBRS part of Utsida. 

\section{Case-Based Reasoning}

Case-Based Reasoning (CBR) is a methodology in the field of AI for solving problems and is primarily based on experiences, the solutions to similar problems. The CBR methodology utilizes these experiences to yield solutions to a large range of problems where uncertainty is involved \cite{richter2013case}. Implied by the name, CBR can be broken down into two main concepts: \textit{cases} and \textit{reasoning}. A case is an experience of a solved problem and consists of two parts: a problem description and a solution to the problem. A case is usually represented as a feature vector, further described in section \ref{sec:feature_vectors}). Reasoning refers to the approach of finding solutions to problems by evaluating different experiences (i.e. cases). Reasoning in CBR differs from other kinds of reasoning because it does not lead from true assumptions to true conclusions \cite{richter2013case}. This means that for two cases with same problem descriptions, the solution to one of them might not be the solution for the other. The recorded experience in the first instance may not be exactly similar to the other case.
    
\subsection{Case Representation}\label{sec:feature_vectors}
A case is usually represented as a feature vector, consisting of pairs of attributes and their values. An example is a diagnosis of a sick patient, as shown in Table \ref{tab:example_case}. Here, the attributes of the case are a collection of symptoms, and the values are whether the patient has the symptom or not. The solution to the case is the final diagnosis of the patient. A \textit{Concept} is a term used for the combination of the case-representation, a designated similarity measure and a weight-value for each attribute in the case-representation, as well as a sum function.

\begin{table}[h]
\centering
\caption{Example of a case represented as a feature vector with attribute-value pairs for the prob-lem description and the solution.}
\label{tab:example_case}
\begin{tabular}{|l|l|l|}

\hline
 \textbf{Part} & \textbf{Attribute} & \textbf{Value} \\ \hline \hline
\multicolumn{1}{|l|}{\multirow{6}{*}{Problem}} & Nausea & Yes \\ \cline{2-3} 
\multicolumn{1}{|l|}{} & Fever & Yes \\ \cline{2-3} 
\multicolumn{1}{|l|}{} & Malaise & Dizzy \\ \cline{2-3} 
\multicolumn{1}{|l|}{} & Blood pressure & Normal \\ \cline{2-3} 
\multicolumn{1}{|l|}{} & Vision changes & No \\ \cline{2-3} 
\multicolumn{1}{|l|}{} & Shortness of breath & No \\ \hline
\multicolumn{1}{|l|}{Solution} & Diagnosis & Influenza \\ \hline
\end{tabular}
\end{table}

\subsection{The CBR-Cycle}\label{sec:cbr-cycle}

Aamodt \& Plaza \cite{aamodt1994case} defined a model which explain the problem solving cycle in CBR, see figure \ref{fig:cbr_cycle}. The cycle defines the four distinct steps of the CBR process and can be summarized as followed.

\begin{description}
\item [1. Retrieve:] The most similar case is retrieved from the system's case-base so that it can be compared to a new case.
\item [2. Reuse:] The solution to the retrieved case is applied to the new case.
\item [3. Revise:] Either confirms that the proposed solution solves the new case, or that the solution is not applicable.
\item [4. Retain:] The new case with the given solution is retained in the case base for future usage.
\end{description}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.6\textwidth]{fig/cbr-cycle.png}
    \caption[The CBR Cycle, defined by Aamodt \& Plaza]{The CBR Cycle, defined by Aamodt \& Plaza \cite{aamodt1994case}}
    \label{fig:cbr_cycle}
\end{figure}

\subsection{Case-based Reasoning Systems}

A case-based reasoning System (CBRS) is a system which use the CBR methodology to solve problems. When the system receives a new problem, it first performs step 1 in the CBR-cycle (retrieve). This step includes using similarity measures, to determine the similarity between each case and the new problem. Next, the system selects the most similar case and apply the solution of this case to the new problem (step 2, reuse). The proposed solution to the new problem is revised, tested and or repaired (step 3, revise) before retaining the new problem with its new solution as a new case in the system's collection of cases, called the case-base (step 4, retain).

\subsection{Similarity Measures}

Similarity measures calculate the degree of similarity (i.e. similarity score) between an attribute in a problem and the corresponding attribute in a case from the case-base. The similarity measure for each attribute is usually different and is often tailored to suit the data type of the attribute, e.g. integer, string or symbol. Each attribute in a case also has a weight value, which decides the importance of that attribute. The total similarity between a case and a problem is commonly calculated by using a sum function on the attribute similarity scores with the weights as coefficients.

\section{myCBR}

myCBR is a tool for rapid prototyping of CBRSs and focuses on the retrieval step of the CBR cycle \cite{Stahl2008}. It is developed and maintained as a joint project between the German Research Center for Artificial Intelligence and the School of Technology and Computing at the University of West London. The myCBR project includes two parts: a Software Development Kit (SDK), and a graphical user interface (GUI) called the myCBR Workbench. 

The myCBR SDK is written in the Java programming language and is the core of myCBR, containing all of its functionality. The SDK allows developers to use or extend the functionality of myCBR in custom applications. The current version (3.1) of the myCBR SDK only supports the similarity based retrieval step of the CBR-cycle.

The myCBR Workbench provides a GUI for implementing and modeling most of the functionality in the SDK. The GUI lets developers prototype and utilize the SDK without having an in-depth knowledge of its inner functions \cite{bach2014knowledge}. The myCBR Workbench supports importing predefined cases with the CSV\footnote{Comma-separated values} file format. It also includes a set of default similarity measures, which are visualized with graphs and tables, making modeling easier.

\section{Case-Based Reasoning Recommender Systems}\label{sec:case_based_recommender_systems}

Recommender systems mainly use either a collaborative or a case-based approach to give recommendations \cite{bridge2005case}. The collaborative approach uses the rating and opinions of other users who have experienced a product or gone through the same process. The case-based approach, on the other hand, uses a case-base as the pool of information to pick recommendations from.

A case-based reasoning recommender system (CBR-RS) share many similarities with case-based reasoning systems. The most noteworthy is that both types of systems have a case-base which they use to determine the best solution or recommendation. While a CBRS receives a query structured as a problem, the CBR-RS, on the other hand, receives a query structured more like a wish \cite{richter2013case}. This wish includes user preferences and, if present, information from a user profile. The main difference between the two systems, however, lies in the way the systems propose a solution to a query. A CBR-RS usually gives several recommendations relevant to the wish of the user, while a CBRS typically gives a single solution which matches the query best. Similar to a case-based reasoning system, a CBR-RS use CBR as the underlying methodology. However, for a CBR-RS, the essential parts of the CBR-cycle are step 1, retrieval, and step 2, reuse. The use of similarity-based retrieval is a beneficial feature for both CBR-RS and CBRS, giving advantages compared to more traditional exact matching techniques such as conventional database retrieval and classical constraint satisfaction techniques \cite{bridge2005case}.

\section{Evaluating Recommender Systems}

Recommendation systems are often evaluated and ranked based on their prediction power \cite{shani2011evaluating}. However, what is considered a relevant recommendation in a given scenario is often subjective. Therefore, it is challenging to evaluate whether a recommendation is satisfactory. For example, some users are interested in receiving recommendations which they know are relevant, while others may want recommendations that are more diverse to discover new items \cite{shani2011evaluating}. Guy Shani \& Asela Gunawardana \cite{shani2011evaluating} describes three levels of experiments to evaluate recommendation systems; offline experiments, online evaluation, and user studies.

\paragraph{Offline Experiments:} When evaluating recommender systems with offline experiments, there are no actual users. Instead, a collection of data based on earlier user choices are used to simulate real user queries. The results of the queries can be used to evaluate the prediction power of the recommender. The queries should, to produce proper results, be similar to the queries that users will make in a production version of the system. Since an offline experiment requires no user interaction, it is a cheap and efficient approach of testing a recommendation system. It does however only evaluate a small set of possible factors, and does not provide any information on user behavior of the system.  An offline experiment can be used on different algorithms to evaluate them against each other and choose the recommender with the highest prediction power. The data sets used to simulate user queries can either be designed manually or by using a random selector. Different types of biases can be introduced when generating the user queries, but methods such as reweighting or resampling can lower the effect of these biases. 

\paragraph{User Studies} In a user study the recommender system is tested on real users who are given tasks to complete. Their behavior and their satisfaction with the recommendations are then be measured and the feedback used to improve the system. Questionnaires can be used in user studies to get feedback from users on their experience. 

\paragraph{Online Evaluation} is done when the recommendation system is live, and real users are using it. Several ways can then be used to evaluate the system by for example using different recommendation algorithms to see which one performs the best.


\iffalse
\section{Motivation}
Richard M. Ryan and Edward L. Deci (2000)\cite{ryan2000intrinsic} divides motivation into two categories: intrinsic- and extrinsic motivation. Intrinsic motivation defines inner motivation such as doing something simply for enjoyment, satisfaction or out of interest. Extrinsic motivation is a much broader category which pertains whenever an activity is done to attain some separable outcome \cite{ryan2000intrinsic}. For example, a student might be motivated to perform well on a test because they want to receive a good grade, and not because they enjoy the theory at hand. Carol M. Sánchez et al. \cite{sanchez2006motivations} finds that most of the intent of a group of U.S., French, and Chinese Students stems from intrinsic motivation; doing it for their enjoyment. 

What about students who are interested and motivated to go on exchange, but end up not doing it? Mazzarol and Soutar \cite{mazzarol2002push} finds that students' general motivation is influenced by the amount of information available at a university and its courses and that \enquote{knowledge and awareness} proved to be the most influencing factor when choosing an international study location. Even though a student may have the intrinsic motivation to go on an exchange, the process of applying for an exchange itself may be non-intuitive, cumbersome, or the related information might be difficult to find. 
\fi

\cleardoublepage